{% extends "base.html" %}

{% block title %}Edit profile{% endblock %}

{% block content %}
    <section class="relative" style="margin-left: 150px;">
        <img src="static/food-profile.jpg" alt="Food profile" class="w-full h-64 object-cover">
    </section>
    <div class="container" style="margin-left: 150px;">
        <h2 class="text-center font-bold text-xl">EDIT PROFILE</h2>

        <div class="flex justify-center mt-6">
            <!-- Edit Username Form -->
            {% if field == 'username' %}
                <form action="{{ url_for('main.edit_profile', field='username') }}" method="POST" class="w-full max-w-md">
                    <label for="new_username" class="block mb-2">New Username:</label>
                    <input type="text" id="new_username" name="new_username" required class="w-full px-4 py-2 border rounded">
                    <button type="submit" class="mt-4 w-full px-3 py-1 border-2 border-blue-500 text-blue-500 text-lg hover:bg-blue-500 hover:text-white rounded-lg transition-colors duration-300">Update</button>
                </form>
            {% endif %}

            <!-- Edit Email Form -->
            {% if field == 'email' %}
                <form action="{{ url_for('main.edit_profile', field='email') }}" method="POST" class="w-full max-w-md">
                    <label for="new_email" class="block mb-2">New Email:</label>
                    <input type="email" id="new_email" name="new_email" required class="w-full px-4 py-2 border rounded">
                    <button type="submit" class="mt-4 w-full px-3 py-1 border-2 border-blue-500 text-blue-500 text-lg hover:bg-blue-500 hover:text-white rounded-lg transition-colors duration-300">Update</button>
                </form>
            {% endif %}
        </div>

        <!-- Link to Go Back to Profile -->
        <div class="text-center mt-8">
            <a href="{{ url_for('main.my_profile') }}" class="bg-primary text-primary-foreground px-4 py-2 rounded">Back to Profile</a>
        </div>
    </div>
{% endblock %}
